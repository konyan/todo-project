!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=[{name:"Daily Schedule",todos:[{title:"Wake Up",description:"Wake Up Morning",dueDate:"2020-01-02",status:!1,priority:1},{title:"Wake Up",description:"Wake Up Morning",dueDate:"2020-01-20",status:!0,priority:1},{title:"Wake Up",description:"Wake Up Morning",dueDate:"2020-02-20",status:!1,priority:2}]},{name:"Work Schedule",todos:[{title:"Wake Up",description:"Wake Up Morning",dueDate:"2020-03-20",status:!1,priority:1}]}];const r=new class{constructor(){this.idInput=document.querySelector("#id"),this.nameInput=document.querySelector("#name"),this.addProject=document.querySelector(".add-project"),this.project=document.querySelector("#projects"),this.forState="add"}showProjectsList(e){let t="";e.forEach((e,n)=>{t+=`\n      <li class="project">\n          <div class="form-check">\n            <label class="form-check-label">\n              ${e.name}\n            </label>\n          </div>\n          <div class="project-actions">\n          <a class="edit-project" data-id="${n}">\n            <i class="fa fa-pencil"></i>\n            </a>\n            <a class="remove-project" data-id="${n}">\n            <i class="fa fa-trash-o"></i>\n            </a>\n          </div>\n        </li>\n      `}),this.project.innerHTML=t}clearFields(){this.nameInput.value=""}fillForm(e){this.nameInput.value=e.name,this.idInput.value=e.index,this.changeFormState("edit-project")}clearIdInput(){this.idInput.value=""}changeFormState(e){if("edit-project"===e){this.addProject.textContent="Update";const e=document.createElement("button");e.className="post-cancel btn btn-primary",e.appendChild(document.createTextNode("Cancel"));const t=document.querySelector(".add-items"),n=document.querySelector(".form-end");t.insertBefore(e,n)}else this.addProject.textContent="Add",document.querySelector(".post-cancel")&&document.querySelector(".post-cancel").remove(),this.clearIdInput(),this.clearFields()}};const i=new class{constructor(){this.title=document.querySelector("#title"),this.description=document.querySelector("#description"),this.dueDate=document.querySelector("#dueDate"),this.priority=document.querySelector("#priority"),this.project=document.querySelector("#project"),this.status=!1,this.idInput=document.querySelector("#todoId"),this.projectsDropDown=document.querySelector(".project-select"),this.todos=document.querySelector(".todos"),this.todoSubmit=document.querySelector(".add-todo")}renderProjectDropDown(e){let t="";e.map((e,n)=>{t+=`\n        <option value=${n}>${e.name}</option>\n      `}),this.projectsDropDown.innerHTML=t,this.showTodo(e)}showTodo(e){let t="";e.map((e,n)=>{e.todos&&e.todos.map((e,o)=>{t+=`\n                <li class="list-group-item" data-id=${n}>\n                  <div class="todo-indicator bg-warning"></div>\n                    <div class="widget-content p-0">\n                      <div class="widget-content-wrapper">\n                        <div class="widget-content-left mr-2">\n                          <div class="custom-checkbox custom-control">\n                            <input\n                                  class="custom-control-input"\n                                  id="exampleCustomCheckbox12"\n                                  type="checkbox"\n                                /><label\n                                  class="custom-control-label"\n                                  for="exampleCustomCheckbox12"\n                                  >&nbsp;</label\n                                >\n                              </div>\n                            </div>\n                            <div class="widget-content-left">\n                              <div class="widget-heading">\n                                ${e.title}\n                               <div class="badge badge-success ml-2">\n                                  ${e.dueDate}\n                                </div>\n                              </div>\n                              <div class="widget-subheading">\n                                <div>\n                                  ${e.description}\n                                  <div class="badge badge-pill badge-info ml-2">\n                                    ${e.priority}\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                            <div class="widget-content-right" id="todo-action"  data-id=${o}>\n                              <i class="fa fa-pencil edit-todo"></i>\n                              <i class="fa fa-trash-o delete-todo"></i>\n                            </div>\n                          </div>\n                        </div>\n                      </li>\n          `})}),this.todos.innerHTML=t}clearFields(){this.title.value="",this.description.value="",this.dueDate.value=""}fillForm(e){this.title.value=e.title,this.description.value=e.description,this.dueDate.value=e.dueDate,this.priority.value=e.priority,this.projectsDropDown.value=e.project_index,this.projectsDropDown.disabled=!0,this.idInput.value=e.todo_index,this.changeToDoFormState("edit")}changeToDoFormState(e){"edit"===e?(this.todoSubmit.textContent="Update",this.todoSubmit.className="add-todo u-full-width btn btn-warning"):(this.todoSubmit.textContent="Add",this.todoSubmit.className="add-todo u-full-width btn btn-primary",this.clearIdInput())}clearIdInput(){this.idInput.value="",this.clearFields()}};var d=(e,t)=>{a();const n=document.createElement("div");n.className=t,n.appendChild(document.createTextNode(e));document.querySelector(".page-container").insertAdjacentElement("afterbegin",n),setTimeout(()=>{a()},3e3)};const a=()=>{const e=document.querySelector(".alert");e&&e.remove()},l=()=>{r.showProjectsList(o),i.renderProjectDropDown(o)};document.addEventListener("DOMContentLoaded",l),document.querySelector(".add-project").addEventListener("click",e=>{const t=document.getElementById("name").value,n=document.querySelector("#id").value;""===t?d("Please fill in all fields","alert alert-danger"):""===n?(o.push({name:t}),r.clearFields(),l()):(o[n].name=t,d("Post updated","alert alert-success"),r.changeFormState("add"),l()),e.preventDefault()}),document.querySelector("#projects").addEventListener("click",e=>{if(e.target.parentElement.classList.contains("edit-project")){const t={index:e.target.parentElement.dataset.id,name:e.target.parentElement.parentElement.previousElementSibling.childNodes[1].textContent.trim()};r.fillForm(t)}e.preventDefault()}),document.querySelector("#projects").addEventListener("click",e=>{if(e.target.parentElement.classList.contains("remove-project")){const t=e.target.parentElement.dataset.id;confirm("Are you sure?")&&(o.splice(t,1),r.showProjectsList(o),d("Deleted","alert alert-danger"))}console.log(e.target.parentElement),e.preventDefault()}),document.querySelector("#addTodo").addEventListener("submit",e=>{e.preventDefault();const t=document.querySelector("#title").value,n=document.querySelector("#description").value,r=document.querySelector("#dueDate").value,a=document.querySelector("#priority").value,l=document.querySelector("#project").value,s=document.querySelector("#todoId").value,c={title:t,description:n,dueDate:r,priority:a,status:!1};console.log("ADD",c,l),""===t||""===n||""===r||""===a?d("Please fill in all fields","alert alert-danger"):(s?(o[l].todos[s]=c,d("Post Updated","alert alert-success"),i.changeToDoFormState("add")):(o[l].hasOwnProperty("todos")?o[l].todos.push(c):o[l].todos=[c],d("Post Added","alert alert-success")),i.clearFields(),i.showTodo(o))}),document.querySelector("#todos").addEventListener("click",e=>{if(e.preventDefault(),e.target.classList.contains("edit-todo")){const t=e.target.parentElement.dataset.id,n=e.target.parentElement.parentElement.parentElement.parentElement.dataset.id,o=e.target.parentElement.previousElementSibling.childNodes[1].childNodes[0].nodeValue.trim(),r=e.target.parentElement.previousElementSibling.children[0].firstElementChild.innerText.trim(),d={project_index:n,todo_index:t,title:o,description:e.target.parentElement.previousElementSibling.childNodes[3].childNodes[1].childNodes[0].nodeValue.trim(),dueDate:r,priority:e.target.parentElement.previousElementSibling.childNodes[3].childNodes[1].childNodes[1].textContent.trim()};console.log("EDIT TO DO",d),i.fillForm(d)}}),document.querySelector("#todos").addEventListener("click",e=>{if(e.preventDefault(),e.target.classList.contains("delete-todo")){const t=e.target.parentElement.dataset.id,n=e.target.parentElement.parentElement.parentElement.parentElement.dataset.id;confirm("Are you sure?")&&(o[n].todos.splice(t,1),d("Deleted","alert alert-danger"),i.showTodo(o)),console.log("DELETE TO DO",t,n,o)}})}]);